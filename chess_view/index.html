<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <link rel="stylesheet"
      href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css"
      integrity="sha384-q94+BZtLrkL1/ohfjR8c6L+A6qzNH9R2hBLwyoAfu3i/WCvQjzL2RQJ3uNHDISdU"
      crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
    crossorigin="anonymous"></script>

    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"
        integrity="sha384-8Vi8VHwn3vjQ9eUHUxex3JSN/NFqUg3QbPyX8kWyb93+8AC/pPWTzj+nHtbC5bxD"
        crossorigin="anonymous"></script>

    <script src="chess.js"></script>
</head>
<body>
    <div>
        <div id="myBoard1" style="width: 400px"></div>
        <button id="startBtn">Startsoppstilling</button>
        <button id="progressBtn" onclick="move()">Neste trekk</button>
        <button id="clearBtn">Klarer brettet</button>

        <script>
            var config = {
                sparePieces: true,
                draggable: true,
                dropOffBoard: 'trash'
            }

                let pgns = [['[Event "Casual Game"]',
    '[Site "Berlin GER"]',
    '[Date "1852.??.??"]',
    '[EventDate "?"]',
    '[Round "?"]',
    '[Result "1-0"]',
    '[White "Adolf Anderssen"]',
    '[Black "Jean Dufresne"]',
    '[ECO "C52"]',
    '[WhiteElo "?"]',
    '[BlackElo "?"]',
    '[PlyCount "47"]',
    '',
    '1.e4'],
    ['[Event "Casual Game"]',
    '[Site "Berlin GER"]',
    '[Date "1852.??.??"]',
    '[EventDate "?"]',
    '[Round "?"]',
    '[Result "1-0"]',
    '[White "Adolf Anderssen"]',
    '[Black "Jean Dufresne"]',
    '[ECO "C52"]',
    '[WhiteElo "?"]',
    '[BlackElo "?"]',
    '[PlyCount "47"]',
    '',
    '1.e4 e5']]

           
            const game = new Chess()
            var board1 = Chessboard('myBoard1', config)
            let int = 0

            function move() {
                console.log("move")
                let pgn = pgns[int]
                game.load_pgn(pgn.join('\n'))
                let fenString = game.fen()
                board1.position(fenString, true)
                // board1.position(fenString, true)
                int++
                }

            $('#startBtn').on('click', board1.start)
            $('#clearBtn').on('click', board1.clear)

        </script>
    </div>
</body>
</html> 